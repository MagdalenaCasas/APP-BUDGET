{"ast":null,"code":"var _jsxFileName = \"/Users/mariamagdalenacasas/Documents/GitHub/APP-BUDGET/budget-app/src/Context/FetchApiContext.jsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FetchApiContext = /*#__PURE__*/createContext();\nexport const FetchApiContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [userEmail, setUserEmail] = useState();\n  const [userName, setUserName] = useState();\n  const [userLastName, setUserLastName] = useState();\n  const [password, setPassword] = useState();\n  const [repetPassword, setRepetPassword] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n  const [response, setResponse] = useState();\n  const navigate = useNavigate();\n  /* Fetch Login.............. */\n\n  const Login = async () => {\n    const handleClick = () => {\n      navigate(\"/home\");\n    };\n\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var raw = JSON.stringify({\n      \"email\": userEmail,\n      \"password\": password\n    });\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: raw,\n      redirect: 'follow'\n    };\n\n    try {\n      fetch(\"http://localhost:3000/login\", requestOptions).then(response => {\n        return response;\n      }).then(result => {\n        if (result.status == 200) {\n          setErrorMessage(\"\");\n          result.json().then(token => {\n            localStorage.setItem(\"token\", `Bearer ${token}`);\n            handleClick();\n          });\n        } else {\n          result.json().then(message => {\n            setErrorMessage(message);\n          });\n        }\n      });\n    } catch (error) {\n      setErrorMessage(error.message);\n    }\n  };\n  /* Fetch Registro.............. */\n\n\n  const SignIn = async () => {\n    const redirect = () => {\n      navigate(\"/\");\n    };\n\n    var myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", localStorage.getItem(\"token\"));\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var raw = JSON.stringify({\n      \"name\": userName,\n      \"lastName\": userLastName,\n      \"email\": userEmail,\n      \"password\": password\n    });\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: raw,\n      redirect: 'follow'\n    };\n\n    try {\n      fetch(\"http://localhost:3000/newUser\", requestOptions).then(response => {\n        return response;\n      }).then(result => {\n        console.log(result.status);\n\n        if (result.status === 201) {\n          setErrorMessage(\"\");\n          result.json().then(res => {\n            setResponse(res);\n            setTimeout(() => {\n              redirect();\n              setResponse(\"\");\n            }, 2000);\n          });\n        } else {\n          result.json().then(message => {\n            console.log(message);\n          });\n        }\n      });\n    } catch (error) {\n      setErrorMessage(error.message);\n    }\n  };\n\n  const AgregarMovimiento = async () => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", localStorage.getItem(\"token\"));\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var raw = JSON.stringify({\n      \"type\": \"EGRESS\",\n      \"amount\": 50,\n      \"concept\": \"alfajor\",\n      \"user_id\": 1\n    });\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: raw,\n      redirect: 'follow'\n    };\n    fetch(\"http://localhost:3000/budget\", requestOptions).then(response => response.text()).then(result => console.log(result)).catch(error => console.log('error', error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(FetchApiContext.Provider, {\n    value: {\n      Login,\n      userEmail,\n      setUserEmail,\n      password,\n      setPassword,\n      userName,\n      setUserName,\n      userLastName,\n      setUserLastName,\n      SignIn,\n      repetPassword,\n      setRepetPassword,\n      errorMessage,\n      setErrorMessage,\n      response,\n      setResponse,\n      AgregarMovimiento\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FetchApiContextProvider, \"utr4+bvYFY9l2KWFoJjs1xz2s3w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = FetchApiContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchApiContextProvider\");","map":{"version":3,"sources":["/Users/mariamagdalenacasas/Documents/GitHub/APP-BUDGET/budget-app/src/Context/FetchApiContext.jsx"],"names":["createContext","useEffect","useState","React","useNavigate","FetchApiContext","FetchApiContextProvider","children","userEmail","setUserEmail","userName","setUserName","userLastName","setUserLastName","password","setPassword","repetPassword","setRepetPassword","errorMessage","setErrorMessage","response","setResponse","navigate","Login","handleClick","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","fetch","then","result","status","json","token","localStorage","setItem","message","error","SignIn","getItem","console","log","res","setTimeout","AgregarMovimiento","text","catch"],"mappings":"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","sourcesContent":["import { createContext, useEffect} from \"react\";\nimport {useState} from \"react\";\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const FetchApiContext = createContext()\n\nexport const FetchApiContextProvider = ({children})=>{\n  const [userEmail, setUserEmail] = useState();\n  const [userName, setUserName] = useState();\n  const [userLastName, setUserLastName] = useState();\n  const [password, setPassword]= useState();\n  const [repetPassword, setRepetPassword] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n  const [response, setResponse] =useState();\n  const navigate = useNavigate();\n  \n  \n  /* Fetch Login.............. */\n  const Login = async()=>{\n   const handleClick = () => {\n      navigate(\"/home\");\n    }\n\n  var myHeaders = new Headers();  \n  myHeaders.append(\"Content-Type\", \"application/json\");\n        \n  var raw = JSON.stringify({\n      \"email\": userEmail,\n      \"password\": password\n    });\n    \n  var requestOptions = {\n   method: 'POST',\n   headers: myHeaders,\n   body: raw,\n   redirect: 'follow'\n  };\n try {\n  fetch(\"http://localhost:3000/login\", requestOptions)\n\n  .then(response => {\n     return response\n  })\n  .then(result=>{\n    if(result.status == 200){\n      setErrorMessage(\"\")\n      result.json().then((token)=>{\n        localStorage.setItem(\"token\", `Bearer ${token}`)\n        handleClick() \n      })\n    }else{\n      result.json().then((message)=>{\n        setErrorMessage(message)\n      })\n    }\n  })\n } catch (error) {\n   setErrorMessage(error.message)}\n}\n\n\n\n /* Fetch Registro.............. */\nconst SignIn = async()=>{\n  const redirect = () => {\n    navigate(\"/\");\n  }\n\n  var myHeaders = new Headers();\n  myHeaders.append(\"Authorization\", localStorage.getItem(\"token\"));\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  \n  var raw = JSON.stringify({\n    \"name\": userName,\n    \"lastName\": userLastName,\n    \"email\": userEmail,\n    \"password\": password,\n  });\n  \n  var requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n    redirect: 'follow'\n  };\ntry { \n  fetch(\"http://localhost:3000/newUser\", requestOptions)\n  \n\n  .then(response => {\n    return response\n })\n .then(result=>{\n   console.log(result.status)\n   if(result.status === 201){\n     setErrorMessage(\"\")\n     result.json().then((res)=>{\n       setResponse(res)\n          setTimeout(() => {\n            redirect()\n            setResponse(\"\")\n       },2000);\n     })\n   }else{\n     result.json().then((message)=>{\n       console.log(message)\n     })\n   }\n })\n\n  \n} catch (error) {\n setErrorMessage(error.message)}\n\n}\n \n \n \nconst AgregarMovimiento = async()=>{\n  var myHeaders = new Headers();\n myHeaders.append(\"Authorization\", localStorage.getItem(\"token\"));\n myHeaders.append(\"Content-Type\", \"application/json\");\n\nvar raw = JSON.stringify({\n  \"type\": \"EGRESS\",\n  \"amount\": 50,\n  \"concept\": \"alfajor\",\n  \"user_id\": 1\n});\n\nvar requestOptions = {\n  method: 'POST',\n  headers: myHeaders,\n  body: raw,\n  redirect: 'follow'\n};\n\nfetch(\"http://localhost:3000/budget\", requestOptions)\n  .then(response => response.text())\n  .then(result => console.log(result))\n  .catch(error => console.log('error', error));\n}\n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n return <FetchApiContext.Provider value={{Login,\n  userEmail, setUserEmail, password, setPassword,userName, setUserName,userLastName,\n   setUserLastName,SignIn,repetPassword, setRepetPassword,errorMessage, setErrorMessage,response, setResponse, AgregarMovimiento}}>{children}\n    </FetchApiContext.Provider>\n}"]},"metadata":{},"sourceType":"module"}